$stack-width: clamp(390px,100%,100vw);
$stack-height: clamp(390px,100%,100vh);
$stack-font: 'Roboto', sans-serif;
$primary-color: rgb(14, 14, 14);
$accent-color:  rgb(2, 31, 37);
$text-color: rgba(0, 244, 77, 0.705);
$text-color-matrix: rgb(9, 255, 0);
$text-color-answer: rgba(255, 255, 255, 0.711);
$button-color-stroke: rgba(3, 81, 29, 0.08);
$button-color-background: rgba(8, 97, 26, 0.169);
$button-color-background-hover: rgba(3, 30, 9, 0.237);
$background-overlay-opacity: .51;
$correct-answer-color: rgb(0, 255, 0);
$wrong-answer-color: rgba(255, 0, 0, 0.78);
$separator-line-color: rgba(9, 255, 0, 0.286);
:root{
  --grid-size : 5px;
  --button-border-size: 5px;
  --stack-font-size: 18px;
  --primary-color: rgb(0, 44, 44);
  --accent-color:  rgb(0, 0, 0);
  --top-margin-li: 1.5em;
  --right-margin-li: 1.5em;
  --centered-top: 20%;
  --button-padding-size: .8em;
  --wrong-answer-color: rgba(255, 0, 0, 0.455);
  --correct-answer-color: rgba(0, 255, 0, 0.473);
  --popup-background-color: rgba(0, 0, 0, 0.649);
}
html {
  scroll-behavior: smooth;
}
* {
  font-family: 'Share Tech Mono', monospace;
  font-size: var(--stack-font-size);
  text-rendering: geometricPrecision;
  font-weight: 400;
}

@media (max-width: 415px) {
  * {
      --grid-size: 3px;
      --button-border-size: 2px;
      --stack-font-size: 14px;
      --top-margin-li: 1.3em;
      --right-margin-li: 2em;
      --centered-top: 25%;
      --button-padding-size: 1em;
  }
}
@media (max-height: 415px) {
  * {
      --grid-size: 3px;
      --button-border-size: 2px;
      --stack-font-size: 14px;
      --top-margin-li: .5em;
      --right-margin-li: 2em;
      --centered-top: 0%;
      --button-padding-size: 1em;
  }
}
@media (max-height: 900px){
  * {
      --centered-top: 5%;
  }
}
@keyframes fadeIn-effect-anime {
  0% {
    opacity: .3;
  }
  100% {
    opacity: 1;
  }
}
@keyframes active-effect-anime {
  33% {
    transform: scale(2);
    filter:drop-shadow(.1em .2em 1em $text-color-matrix);
  }
  66%{
    transform: rotate(270deg) scale(3);
  }
  77%{
    transform: rotate(0deg)scale(2);
  }
  100%{
    transform: scale(.1);
  }

}
@mixin hover-effect {
  filter:drop-shadow(.1em .2em .7em $text-color-matrix);
  animation: fadeIn-effect-anime .79s 1;
}
button {
  background-color: $button-color-background;
  color: $text-color;
  border: var(--button-border-size) solid $button-color-stroke;
  padding-right: var(--button-padding-size);
  padding-left: var(--button-padding-size);
  padding-top: calc(var(--button-padding-size) * .25);
  padding-bottom: calc(var(--button-padding-size) * .25);
  font-size: calc(var(--stack-font-size) * 1.23);
}
button:hover{
  @include hover-effect();
}
body{
  width: $stack-width;
  height: $stack-height;
  overflow-y: auto;
  overflow-x: hidden;
}
@mixin user-interface-props ($index, $position) {
  z-index: $index;
  position: $position;
  height: 100%;
  width: calc($stack-width * 1.01);
  margin: 0;
}
.centered {
  @include user-interface-props(20,relative);
  left: 0%;
  top: 0%;
  text-align: center;
  color: $text-color;
  animation: fadeIn-effect-anime 1s 1;
  overflow-y: auto;
  transform: translateX(-1%);
}
#popup-container {
  position: fixed;
  left: 0%;
  top: 15%;
  width: 100%;
  height: calc($stack-height * .8);
  z-index: 21;
  background-color: var(--popup-background-color);
  ul{
    text-align: center;
    li {
      padding-top: .05em;
      padding-bottom: .05em;
    }
  }
}
#result-container {
  ul {
    margin-top: calc(var(--top-margin-li) * 1.5);
    padding-top: var(--top-margin-li);
    padding-bottom: var(--top-margin-li);
    border-width: calc(var(--button-border-size) *.5);
    border-style:groove;
    border-color: $separator-line-color;
    font-size: calc(var(--stack-font-size) *1.2);
    
  }
}
#explanation-text {
  color: $text-color;
  font-size: calc(var(--stack-font-size) * 1.3);
  text-align: center;
  margin-top: 5%;
}
#explanation-container {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: space-evenly;
  align-items: center;
  height: inherit;
  margin: .5em;
}
#info-container {
  background-color: $button-color-background;
  width: 100%;
  height: 3em;
  display: flex;
  flex-direction: row;
  align-content: center;
  justify-content: space-around;
  align-items: center;
  font-size: calc(var(--stack-font-size) * 1.3);
  #score{
    color: $text-color;
  }
}
#welcome-container {
  height: 100%;
  left: 0%;
  top:0%;
  margin-top: 5%;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: center;
  align-items: center;
  align-self: center;
}
#question-container {
  display: flex;
  flex-direction: column;
  align-content: center;
  height: 100%;
  justify-content: center;
}
#question-navigation-buttons-container {
  display: flex;
  flex-direction: row;
  align-content: center;
  justify-content: center;
}
#giveup-question-button, #next-question-button ,#explanation-question-button{
  margin-top: 1.7em;
  margin-right: .5em;
  width: 10em;
}
.scrollable {
  height: auto;
  max-height: 80vh;
  overflow: auto;
}

@mixin background-props ($index,$position){
  top:0;
  bottom: 0;
  margin: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: $index;
  position: $position;
}
#background {
  @include background-props(9,fixed);
}
#background-matrix {
  @include background-props(7,fixed);
  display: flex;
  align-content: space-between;
  justify-content: space-evenly;
  align-items: space-around;
  flex-wrap: wrap;
  flex-direction: column;
  color: $text-color;
  opacity: $background-overlay-opacity;
}
#background-overlay {
  @include background-props(8,fixed);
  background-image: url("https://assets.codepen.io/8174275/background-grid.png");
  background-repeat: space;
  background-size: var(--grid-size) var(--grid-size);
  opacity: $background-overlay-opacity;
}
#background-underlay {
  @include background-props(7,fixed);
}
@keyframes matrix-anime {
  0% {
    filter:drop-shadow(.3em -.1em .5em $text-color-matrix);
  }
  33% {
    filter:drop-shadow(-.1em .3em .7em $text-color-matrix);
  }
  100% {
    filter:drop-shadow(.3em -.1em .3em $text-color-matrix);
  }
}
span[id^='background-span-matrix-']{
  color:$text-color-matrix;
  filter:drop-shadow(.3em .3em .3em $text-color-matrix);
  filter: saturate(5);
  
}
@mixin question-effect-anime {
  animation: matrix-anime 3s infinite;
  animation-direction: alternate;
  animation-timing-function: ease-in-out;
}
h1 {
  @include question-effect-anime();
  font-size: calc(var(--stack-font-size) * 1.67);
}
a {
  text-decoration: none;
  color: $text-color;
}
ul {
  list-style: none;
  display: flex;
  flex-direction: column;
  align-items: center;
}
li {
  margin-top: var(--top-margin-li);
  margin-right: var(--right-margin-li);
  width: calc($stack-width * .9);
  font-size: calc(var(--stack-font-size) * 1.37);
  padding-top: calc(var(--button-padding-size) *.5);
  padding-bottom: calc(var(--button-padding-size) *.5);
  background-color: $button-color-background;
  color: $text-color;
  border: var(--button-border-size) solid $button-color-stroke;
}
li:hover {
  @include hover-effect();
  background-color: $button-color-background-hover;
}
h6 {
  @include question-effect-anime();
  font-size: calc(var(--stack-font-size) * 3);
  filter:drop-shadow(.1em .2em .3em $text-color-matrix);
}

@keyframes correct-answer-effect-anime {
  33% {
    transform: scale(1.07);
    color: $text-color-answer;
    filter:drop-shadow(.1em .2em 1em $text-color-matrix);
  }
  66%{
    transform: scale(1.08);
    background-color: $correct-answer-color;
  }
  77%{
    transform: scale(1.09);
    background-color: $correct-answer-color;
    color: $text-color-answer;
  }
  100%{
    transform: scale(1);
    background-color: $correct-answer-color;
  }
}
@keyframes wrong-answer-effect-anime {
  33% {
    transform: scale(1.07);
    filter:drop-shadow(.1em .2em 1em $text-color-matrix);
    color: $text-color-answer;
  }
  66%{
    transform: scale(1.08);
    background-color: $wrong-answer-color;
  }
  77%{
    transform: scale(1.09);
    background-color: $wrong-answer-color;
    color: $text-color-answer;
  }
  100%{
    transform: scale(1);
    background-color: $wrong-answer-color;
  }
}
@keyframes correct-answer-indication {
  33% {
    background-color: $correct-answer-color;
    border: var(--button-border-size) solid $button-color-stroke;
    color: $text-color-answer;
  }
  66%{
    background-color: $accent-color;
  }
  77%{
    background-color: $correct-answer-color;
    color: $text-color-answer;
  }
  100%{
    background-color: $accent-color;
  }
}